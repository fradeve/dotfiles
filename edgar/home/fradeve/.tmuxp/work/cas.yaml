session_name: cas
start_directory: /home/fradeve/proj/cas/cas
windows:
    - window_name: runserver
      shell_command_before:
          - vagrant ssh -c 'sudo service postgresql-9.2 start;'
          - workon cas
      panes:
          - ./manage.py runserver --settings=development_settings.francesco_devirgilio
    - window_name: cli(s)
      shell_command_before:
          - vagrant ssh
      panes:
          - source /home/vagrant/.virtualenvs/cas/bin/activate; cd /opt/cas
          - sudo su - postgres
    - window_name: logs | local
      panes:
          - tail -f /home/fradeve/proj/log/cas.log
          - tail -f /opt/var/log/cas/django.log
    - window_name: logs | test-05
      panes:
          - ssh -t cas-test-05 "tail -f /opt/var/log/cas/cas.log"
          - ssh -t cas-test-05 "tail -f /opt/var/log/cas/django.log"
    - window_name: logs | test-05 | celery
      panes:
          - ssh -t cas-test-05 "tail -f /opt/var/log/cas/celerybeat.log"
          - ssh -t cas-test-05 "tail -f /opt/var/log/cas/celery_w1.log"
          - ssh -t cas-test-05 "tail -f /opt/var/log/cas/celery_w2.log"
          - ssh -t cas-test-05 "tail -f /opt/var/log/cas/celery_w3.log"
